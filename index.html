<!DOCTYPE html>
<html lang="en" class="flex-center">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <script src="aframe.min.js"></script>
    <script src="aframe-extras.min.js"></script>
    <script src="frames.js"></script>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <a-scene embedded vr-mode-ui="enabled: false" fog="type: exponential; color: black; density: 0.2"> <!--add "embedded" when ready for crt filter-->

        <a-assets>
            <a-asset-item id="reflector" src="OBJ/reflector.obj"></a-asset-item>
            <img id="bricks-map" src="PNG/bricks_0007_normal_opengl_1k.png">
            <img id="bricks-img" src="JPG/bricks_0007_ao_1k.jpg">
            <img id="brickz-map" src="PNG/bricks_0019_normal_opengl_1k.png">
            <img id="brickz-img" src="JPG/bricks_0019_ao_1k.jpg">
            <img id="rocks-map" src="PNG/rock_0007_normal_opengl_1k.png">
            <img id="rocks-img" src="JPG/rock_0007_ao_1k.jpg">
        </a-assets>

        <!-- Row 1 -->
        <a-entity id="0 0" l-frame position="0 0 0" rotation="0 180 0">
            <a-entity obj-model="obj: #reflector" material="color: #1a1a1a;" position="-1.8 3.62 -1.8" rotation="40 30 0"></a-entity>
            <a-entity light="type: spot; intensity: 4; angle: 30; distance: 10; penumbra: 1;" position="-1.65 3.7 -1.55" rotation="230 30 0"></a-entity>
            <a-entity light="type: point; intensity: 20; distance: 0.3; penumbra: 1;" position="-1.65 3.7 -1.55"></a-entity>
        </a-entity>
        <a-entity i-frame position="4 0 0" rotation="0 90 0"></a-entity>
        <a-entity i-frame position="8 0 0" rotation="0 90 0"></a-entity>
        <a-entity t-frame position="12 0 0" rotation="0 90 0"></a-entity>
        <a-entity i-frame position="16 0 0" rotation="0 90 0"></a-entity>
        <a-entity i-frame position="20 0 0" rotation="0 90 0"></a-entity>
        <a-entity l-frame position="24 0 0" rotation="0 90 0"></a-entity>
        <a-entity c-frame position="28 0 0" rotation="0 90 0"></a-entity>

        <!-- Row 2 -->
        <a-entity i-frame position="0 0 4" rotation="0 0 0"></a-entity>
        <a-entity l-frame position="4 0 4" rotation="0 180 0"></a-entity>
        <a-entity l-frame position="8 0 4" rotation="0 90 0"></a-entity>
        <a-entity i-frame position="12 0 4" rotation="0 0 0"></a-entity>
        <a-entity i-frame position="16 0 4" rotation="0 0 0"></a-entity>
        <a-entity i-frame position="20 0 4" rotation="0 0 0"></a-entity>
        <a-entity i-frame position="24 0 4" rotation="0 0 0"></a-entity>
        <a-entity i-frame position="28 0 4" rotation="0 0 0"></a-entity>

        <!-- Row 3 -->
        <a-entity i-frame position="0 0 8" rotation="0 0 0"></a-entity>
        <a-entity c-frame position="4 0 8" rotation="0 270 0"></a-entity>
        <a-entity i-frame position="8 0 8" rotation="0 0 0"></a-entity>
        <a-entity c-frame position="12 0 8" rotation="0 270 0"></a-entity>
        <a-entity c-frame position="16 0 8" rotation="0 180 0"></a-entity>
        <a-entity o-frame position="20 0 8" rotation="0 0 0"></a-entity>
        <a-entity t-frame position="24 0 8" rotation="0 0 0"></a-entity>
        <a-entity i-frame position="28 0 8" rotation="0 0 0"></a-entity>

        <!-- Player Camera Rig with Light -->
        <a-entity id="rig" position="0 2 0">
            <a-camera position="0 0 0" camera fov="100" look-controls="pointerLockEnabled:true" movement-controls="controls: checkpoint;" checkpoint-controls="mode: animate; animateSpeed: 5;" wasd-controls="enabled: false;">
                <a-cursor material="color: white; shader: flat;"></a-cursor>
                <a-entity light="type: spot; intensity: 2; angle: 90; distance: 20; penumbra: 0.9; color: #fffeee;" position="0 0 0"></a-entity>
                <a-entity light="type: spot; intensity: 2; angle: 30; distance: 5; penumbra: 1; color: #fffeee;" position="0 0 0"></a-entity>
            </a-camera> 
        </a-entity>

        <!-- Black Atmosphere -->
        <a-sky color="black"></a-sky>
    </a-scene>
</body>
<svg color-interpolation-filters="sRGB" viewBox="0 0 0 0">
	<defs>
		<filter id="chromatic-aberration">
			<feColorMatrix type="matrix" in="SourceGraphic" result="blue" values="
				0.000  0.000  0.000  0.000  0.000
				0.000  1.000  0.000  0.000  0.000 
				0.000  0.000  1.000  0.000  0.000 
				0.000  0.000  0.000  1.000  0.000"/>
			<feOffset in="blue" dx="-1" dy="-1" result="blue_channel"/>
			<feColorMatrix type="matrix" in="SourceGraphic" result="red" values="
				1.000  0.000  0.000  0.000  0.000
				0.000  0.000  0.000  0.000  0.000 
				0.000  0.000  0.000  0.000  0.000 
				0.000  0.000  0.000  1.000  0.000"/>
			<feOffset in="red" dx="1" dy="1" result="red_channel"/>
			<feBlend mode="screen" in="red_channel" in2="blue_channel"/>
		</filter>
		<filter id="fisheye">
            <feImage xlink:href="WEBP/fisheye.webp" result="lightMap" preserveAspectRatio="xMidYMid slice"/>
            <feDisplacementMap in2="lightMap" in="SourceGraphic" xChannelSelector="R" yChannelSelector="G" scale="120"/>
        </filter>
        <filter id="dither" color-interpolation-filters="sRGB" x="0" y="0" width="100%" height="100%">
            <feImage width="4" height="4" xlink:href="PNG/bayer.png"/>
            <feTile/>
            <feComposite operator="arithmetic" k1="0" k2="1" k3="1" k4="-0.2" in="SourceGraphic"/>
            <feComponentTransfer>
              <feFuncR type="discrete" tableValues="0 0.8"/>
              <feFuncG type="discrete" tableValues="0 0.9"/>
              <feFuncB type="discrete" tableValues="0 1"/>
            </feComponentTransfer>
        </filter>
	</defs>
</svg>
</html>